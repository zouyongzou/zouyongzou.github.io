---
title: "支付宝支付开发总结"
excerpt: "总结了支付宝支付的支付产品的定义、应用场景及注意事项（如何调起支付及可能出现的问题），并对支付方式进行了总结。"
comments: true
search: true
tags: [工具]
toc: true
toc_sticky: true
---

总结了支付宝支付的支付产品的定义、应用场景及注意事项（如何调起支付及可能出现的问题），并对支付方式进行了对比。

### 当面付

商户扫码收款，消费者扫码付款。支持**条码支付**和**扫码支付**两种付款方式。支付成功回调有异步通知和主动查询。  

#### 条码支付

**定义：** 买家出示支付宝钱包中的条码、二维码，商家扫码用户条码。  
**应用场景：** 适用于有各类商家系统需要对接，有对账强需求的商家，如大型商超、餐饮，连锁品牌等商家。  
**注意事项：** 用户进入支付宝付款码界面，收银员在商家收银系统操作生成订单，输入收款金额。收银员通过扫码设备来扫描用户的条码/二维码后，商家收银系统提交支付。支付后商家收银系统会拿到支付成功或者失败的结果，用户支付宝 App 收单支付引导或成功结果。

#### 扫码支付

**定义：** 买家通过使用支付宝扫一扫功能，扫描商家收款二维码。  
**应用场景：** 线下实体店支付、面对面支付、自助售货机。  
**注意事项：** 收银员在商家收银系统操作生成支付宝订单，并生成二维码。用户登录支付宝，进入扫码界面。用户扫收银员提供的二维码，核对金额，确认支付。用户付款支付宝提示成功或失败，商家收银系统会拿到支付成功或者失败的结果。

### APP支付

**定义：** 商家在App应用中集成支付宝支付功能，接入支付宝SDK，用户支付时调起支付宝完成支付。  
**应用场景：** 商家在App应用中集成支付宝支付功能。  
**注意事项：** 商家App调用支付宝提供的SDK，SDK再调用支付宝App内的支付模块。如果用户已安装支付宝App，商家App会跳转到支付宝中完成支付，支付完后跳回到商家App内，最后展示支付结果。如果用户没有安装支付宝App，商家App内会调起支付宝网页支付收银台，用户登录支付宝账户，支付完后展示支付结果。目前支持手机系统有：iOS（苹果）、Android（安卓）。

### 手机网站支付

**定义：** 在移动端网页应用中集成支付宝支付功能。  
**应用场景：** 商户开发的移动端网页应用。  
**注意事项：** 商家在网页中调用支付宝提供的网页支付接口调起支付宝客户端内的支付模块，商家网页会跳转到支付宝中完成支付，支付完后跳回到商家网页内，最后展示支付结果。若无法唤起支付宝客户端，则在一定的时间后会自动进入网页支付流程。

### 电脑网站支付

**定义：** 电脑网页应用中集成支付宝支付功能。  
**应用场景：** 商户开发的电脑端网页应用。  
**注意事项：** 通过电脑网站支付功能，用户在商家 PC 网站消费后界面会自动跳转到支付宝 PC 网站收银台完成付款。 交易资金直接打入商家支付宝账户，实时到账。 用户交易款项即时到账，交易订单三个月内可退款，提供退款、清结算、对账等配套服务。

### 刷脸付

**定义：** 用户在无需打开手机的情况下，凭借“刷脸”完成支付。  
**应用场景：** 线下商户或者无人超市  
**注意事项：** “刷脸付”软件应用需要部署在带有指定3D摄像头并且通过蚂蚁验证的硬件设备上（IOT刷脸设备）才可正常使用。

### 支付宝支付方式总结

1、相对于微信支付而言，支付宝支付流程就比较简单，不同支付方式，流程也差不多一致，而且文档更为详细。  
大致流程：用户下单 -> 商户系统生成订单信息，构造支付请求 -> 商户系统发送支付请求 -> 用户界面展示支付信息，输入密码并支付 -> 支付宝系统完成支付，页面返回支付结果return_url，后台通知支付结果notify_url -> 用户的return_url页面调用【交易查询】接口轮询，直到支付状态成功，继续业务 -> 支付完成。  
2、如果在手机微信中调用手机网站支付，需要做浏览器指引，引导用户到浏览器中发起支付。

参考资料：[支付宝支付开发文档](https://opendocs.alipay.com/open/194/105072)
